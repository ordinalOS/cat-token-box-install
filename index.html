<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAT Token Box Setup Guide</title>
    
    <!-- General meta tags -->
    <meta name="description" content="This guide will help you set up the CAT Token Box project from scratch on a clean Linux installation.">
    
    <!-- Open Graph / Facebook meta tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ordinalos.github.io/cat-token-box-install/">
    <meta property="og:title" content="CAT Token Box Setup Guide">
    <meta property="og:description" content="This guide will help you set up the CAT Token Box project from scratch on a clean Linux installation.">
    <meta property="og:image" content="https://ordinalos.github.io/cat-token-box-install/banner.jpeg">
    
    <!-- Twitter meta tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://ordinalos.github.io/cat-token-box-install/">
    <meta name="twitter:title" content="CAT Token Box Setup Guide">
    <meta name="twitter:description" content="This guide will help you set up the CAT Token Box project from scratch on a clean Linux installation.">
    <meta name="twitter:image" content="https://ordinalos.github.io/cat-token-box-install/banner.jpeg">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-bash.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-json.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ffffff;
            --bg-color: #000000;
            --text-color: #ffffff;
            --matrix-color: rgba(0, 100, 255, 0.1);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            font-size: 16px;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.1;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .banner-container {
            position: relative;
            margin-bottom: 20px;
        }
        .banner {
            width: 100%;
            max-height: 300px;
            object-fit: cover;
            border-radius: 8px;
        }
        .title-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
        }
        h1, h2, h3 {
            font-family: 'Roboto Mono', monospace;
            color: var(--primary-color);
            font-weight: 700;
        }
        h1 { font-size: 2em; margin: 0; }
        h2 { font-size: 1.75em; }
        h3 { font-size: 1.5em; }
        a {
            color: var(--primary-color);
            text-decoration: none;
            transition: opacity 0.3s ease;
        }
        a:hover {
            opacity: 0.8;
        }
        pre[class*="language-"] {
            background: #111;
            border-radius: 8px;
            padding: 1em;
            margin: 0.5em 0;
            overflow: auto;
            font-size: 0.9em;
        }
        code[class*="language-"] {
            font-family: 'Roboto Mono', monospace;
            color: var(--text-color);
            text-shadow: none;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .note, .warning, .troubleshooting {
            border-radius: 8px;
            margin-bottom: 15px;
            padding: 15px;
            font-size: 0.9em;
        }
        .note {
            background-color: rgba(255, 255, 255, 0.1);
            border-left: 4px solid #ffffff;
        }
        .warning {
            background-color: rgba(255, 255, 0, 0.1);
            border-left: 4px solid #ffff00;
        }
        .troubleshooting {
            background-color: rgba(255, 0, 0, 0.1);
            border-left: 4px solid #ff0000;
        }
        
        @media (max-width: 768px) {
            body {
                font-size: 14px;
            }
            .container {
                padding: 10px;
            }
            h1 { font-size: 1.75em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.25em; }
        }
    </style>
</head>
<body>
    <div class="matrix-bg"></div>
    <div class="container">
        <div class="glass-panel">
            <div class="banner-container">
                <img src="banner.jpeg" alt="CAT Token Box Banner" class="banner">
                <div class="title-overlay">
                    <h1>CAT Token Box Setup Guide</h1>
                </div>
            </div>
            
            <div class="warning">
                <p><strong>HIGHLY RECOMMENDED:</strong> To use the official documentation <a href="https://github.com/CATProtocol/cat-token-box" target="_blank">https://github.com/CATProtocol/cat-token-box</a></p>
                <p><strong>NOTE:</strong> I will be updating this guide. Follow me at <a href="https://x.com/ordinalos" target="_blank">@ordinalos</a> for updates.</p>
            </div>
        </div>

        <div class="glass-panel">
            <h2>1. System Requirements and Prerequisites</h2>
            <h3>1.1 Operating System</h3>
            <p>This guide primarily focuses on a fresh Ubuntu installation. We recommend using the latest LTS version of Ubuntu, which you can download from the <a href="https://ubuntu.com/download/desktop" target="_blank">official Ubuntu website</a>.</p>

            <h3>1.2 VPS Option</h3>
            <p>If you prefer using a VPS, here are three recommended providers that offer easy Ubuntu setup:</p>
            <ul>
                <li><a href="https://www.digitalocean.com/" target="_blank">DigitalOcean</a></li>
                <li><a href="https://www.linode.com/" target="_blank">Linode</a></li>
                <li><a href="https://www.vultr.com/" target="_blank">Vultr</a></li>
            </ul>

            <h3>1.3 Basic System Setup</h3>
            <p>Update your system and install basic packages:</p>
            <pre><code class="language-bash">
sudo apt update
sudo apt upgrade -y
sudo apt install -y build-essential git curl
            </code></pre>

            <h3>1.4 Install Node.js and Yarn</h3>
            <pre><code class="language-bash">
# Install nvm (Node Version Manager)
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.0/install.sh | bash

# Download and install Node.js (you may need to restart the terminal)
nvm install 20

# Verify the Node.js version
node -v # should print `v20.17.0`

# Verify the npm version
npm -v # should print `10.8.2`

# Install Yarn
npm install -g yarn
            </code></pre>

            <h3>1.5 Install and Setup PostgreSQL</h3>
            <pre><code class="language-bash">
sudo apt install -y postgresql postgresql-contrib
sudo systemctl start postgresql
sudo systemctl enable postgresql
sudo -u postgres psql -c "CREATE DATABASE cat;"
sudo -u postgres psql -c "CREATE USER cat_user WITH PASSWORD 'your_password';"
sudo -u postgres psql -c "GRANT ALL PRIVILEGES ON DATABASE cat TO cat_user;"
            </code></pre>

            <div class="note">
                <p><strong>NOTE:</strong> Replace 'your_password' with a strong, unique password.</p>
            </div>

            <div class="troubleshooting">
                <h4>Troubleshooting Section 1:</h4>
                <ul>
                    <li>To check if PostgreSQL is running: <code>sudo systemctl status postgresql</code></li>
                    <li>To test PostgreSQL connection: <code>psql -h localhost -U cat_user -d cat</code></li>
                </ul>
            </div>
        </div>

        <div class="glass-panel">
            <h2>2. CAT Token Box Setup</h2>
            <h3>2.1 Clone the Repository</h3>
            <pre><code class="language-bash">
git clone https://github.com/CATProtocol/cat-token-box.git
cd cat-token-box
            </code></pre>

            <h3>2.2 Install Dependencies and Build</h3>
            <pre><code class="language-bash">
yarn install && yarn build
            </code></pre>

            <div class="troubleshooting">
                <h4>Troubleshooting Section 2:</h4>
                <ul>
                    <li>If build fails, ensure all prerequisites are installed: <code>node -v && yarn -v</code></li>
                    <li>Check for any error messages in the build output and address them accordingly.</li>
                </ul>
            </div>
        </div>

        <div class="glass-panel">
            <h2>3. Tracker Setup</h2>
            <p>For detailed instructions, refer to the <a href="https://github.com/CATProtocol/cat-token-box/blob/main/packages/tracker" target="_blank">official tracker documentation</a>.</p>

            <h3>3.1 Installation and Build</h3>
            <pre><code class="language-bash">
cd packages/tracker
yarn install
yarn build
            </code></pre>

            <h3>3.2 Configure Environment</h3>
            <pre><code class="language-bash">
cp .env.example .env
nano .env
            </code></pre>
            <p>Update the .env file with your configuration. Here's an example of what your .env file might look like:</p>
            <pre><code class="language-bash">
DATABASE_TYPE=postgres
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_DB=cat
DATABASE_USERNAME=cat_user
DATABASE_PASSWORD=your_password

RPC_HOST=127.0.0.1
RPC_PORT=8332
RPC_USER=bitcoin
RPC_PASSWORD=your_rpc_password

NETWORK=mainnet
API_PORT=3000
GENESIS_BLOCK_HEIGHT=0
            </code></pre>
            <p>Make sure to replace <code>your_password</code> and <code>your_rpc_password</code> with your actual PostgreSQL and RPC passwords.</p>

            <h3>3.3 Set Up Docker</h3>
            <pre><code class="language-bash">
sudo chmod 777 docker/data
sudo chmod 777 docker/pgdata
docker compose up -d
            </code></pre>

            <h3>3.4 Run the Tracker Service</h3>
            <p>Option 1: Using Docker (Recommended)</p>
            <pre><code class="language-bash">
cd ../../
docker build -t tracker:latest .
docker run -d \
    --name tracker \
    --add-host="host.docker.internal:host-gateway" \
    -e DATABASE_HOST="host.docker.internal" \
    -e RPC_HOST="host.docker.internal" \
    -p 3000:3000 \
    tracker:latest
docker logs -f tracker
            </code></pre>

            <p>Option 2: Using Yarn</p>
            <pre><code class="language-bash">
# Development mode
yarn run start

# Production mode
yarn run start:prod
            </code></pre>

            <div class="note">
                <p><strong>NOTE:</strong> Ensure the tracker syncs to the latest block before running CLI commands. Check the sync progress at http://127.0.0.1:3000/api</p>
            </div>

            <div class="troubleshooting">
                <h4>Troubleshooting Section 3:</h4>
                <ul>
                    <li>To check if the tracker is running: <code>docker ps | grep tracker</code></li>
                    <li>To check tracker logs: <code>docker logs tracker</code></li>
                    <li>To check the API endpoint: <code>curl http://localhost:3000/api</code></li>
                    <li>To check sync progress, use the CLI to check wallet balance (see CLI commands below)</li>
                </ul>
            </div>
        </div>

        <div class="glass-panel">
            <h2>4. CLI Setup and Usage</h2>
            <p>For detailed instructions, refer to the <a href="https://github.com/CATProtocol/cat-token-box/tree/main/packages/cli" target="_blank">official CLI documentation</a>.</p>

            <h3>4.1 Installation and Build</h3>
            <pre><code class="language-bash">
cd packages/cli
yarn install
yarn build
            </code></pre>

            <h3>4.2 Create a Wallet</h3>
            <pre><code class="language-bash">
yarn cli wallet create
            </code></pre>
            <p>You should see an output similar to:</p>
            <pre><code class="language-plaintext">
? What is the mnemonic value of your account? (default: generate a new mnemonic) ********
Your wallet mnemonic is:  ********
exporting address to the RPC node ... 
successfully.
            </code></pre>
            <div class="warning">
                <p><strong>IMPORTANT:</strong> Make sure to securely store your mnemonic phrase. It's crucial for accessing your wallet and cannot be recovered if lost.</p>
            </div>

            <h3>4.3 Show Address</h3>
            <pre><code class="language-bash">
yarn cli wallet address
            </code></pre>

            <h3>4.4 Fund Your Address</h3>
            <p>Deposit some satoshis to your address before proceeding.</p>

            <h3>4.5 Check Sync Progress and Show Token Balances</h3>
            <pre><code class="language-bash">
yarn cli wallet balance
            </code></pre>
            <p>This command will show the sync progress percentage and your token balances once synced.</p>

            <h3>4.6 Deploy Token</h3>
            <p>You can deploy a token using a metadata JSON file or command line options:</p>
            <pre><code class="language-bash">
# Using metadata file
yarn cli deploy --metadata=example.json

# Using command line options
yarn cli deploy --name=cat --symbol=CAT --decimals=2 --max=21000000 --premine=0 --limit=5
            </code></pre>

            <h3>4.7 Mint Token</h3>
            <pre><code class="language-bash">
yarn cli mint -i [tokenId] [amount?]
            </code></pre>

            <h3>4.8 Send Token</h3>
            <pre><code class="language-bash">
yarn cli send -i [tokenId] [receiver] [amount]
            </code></pre>

            <div class="note">
                <p><strong>NOTE:</strong> For all commands, you can specify a fee rate using the <code>--fee-rate</code> option.</p>
            </div>

            <h3>4.9 Configuration (Optional)</h3>
            <p>The CLI uses a configuration file by default. You can create one based on the example:</p>
            <pre><code class="language-bash">
cp config.example.json config.json
            </code></pre>
            <p>The default configuration should work for most users. If you need to customize it, you can edit the config.json file.</p>

            <div class="note">
                <p><strong>NOTE:</strong> The default network is "mainnet". Only change this if you're specifically testing on a different network.</p>
            </div>

            <div class="troubleshooting">
                <h4>Troubleshooting Section 4:</h4>
                <ul>
                    <li>If CLI commands fail, ensure the tracker is fully synced by checking the wallet balance.</li>
                    <li>To check tracker sync progress: <code>yarn cli wallet balance</code></li>
                    <li>If commands still fail, check tracker logs for any error messages: <code>docker logs tracker</code></li>
                </ul>
            </div>
        </div>

        <div class="glass-panel">
            <h2>5. Final Notes and Troubleshooting</h2>
            <ul>
                <li>Ensure all components are running correctly:
                    <ul>
                        <li>Check if the tracker is running: <code>docker ps | grep tracker</code></li>
                        <li>Check tracker logs: <code>docker logs tracker</code></li>
                        <li>Check the API endpoint: <code>curl http://localhost:3000/api</code></li>
                        <li>Monitor sync progress: <code>yarn cli wallet balance</code></li>
                    </ul>
                </li>
                <li>API Documentation:
                    <ul>
                        <li>Swagger UI: <a href="http://localhost:3000/api" target="_blank">http://localhost:3000/api</a></li>
                        <li>OpenAPI JSON: <a href="http://localhost:3000/api-json" target="_blank">http://localhost:3000/api-json</a></li>
                    </ul>
                </li>
                <li>Always keep your system and packages up to date:
                    <pre><code class="language-bash">
sudo apt update && sudo apt upgrade -y
yarn upgrade
                    </code></pre>
                </li>
                <li>Monitor your system resources, especially when running a full node.</li>
                <li>For advanced configurations or issues, refer to the official documentation or seek community support.</li>
            </ul>

            <div class="warning">
                <p><strong>REMINDER:</strong> Always refer to the official documentation and README files in each package for the most up-to-date information and troubleshooting tips.</p>
            </div>
        </div>

        <div class="glass-panel">
            <p>I will be updating this guide. Follow me at <a href="https://x.com/ordinalos" target="_blank">@ordinalos</a> for updates.</p>
        </div>
    </div>
    <script>
        function createMatrixBackground() {
            const canvas = document.createElement('canvas');
            canvas.classList.add('matrix-bg');
            document.body.appendChild(canvas);
            const ctx = canvas.getContext('2d');

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const columns = canvas.width / 20;
            const drops = [];

            for (let i = 0; i < columns; i++) {
                drops[i] = 1;
            }

            function draw() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = 'var(--matrix-color)';
                ctx.font = '15px monospace';

                for (let i = 0; i < drops.length; i++) {
                    const text = String.fromCharCode(Math.random() * 128);
                    ctx.fillText(text, i * 20, drops[i] * 20);

                    if (drops[i] * 20 > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }
            }

            setInterval(draw, 35);
        }

        createMatrixBackground();
        window.addEventListener('resize', createMatrixBackground);
    </script>
</body>
</html>
